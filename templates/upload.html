<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.9.2/umd/popper.min.js" integrity="sha512-2rNj2KJ+D8s1ceNasTIex6z4HWyOnEYLVC3FigGOmyQCZc2eBXKgOxQmo3oKLHyfcj53uz4QMsRCWNbLd32Q1g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="{{ url_for('static', filename='upload.css') }}" type="text/css">
    <script src="https://kit.fontawesome.com/66dba2cab1.js" crossorigin="anonymous"></script> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='upload-script.js') }}"></script>
  </head>
    
  <style>
  .modal-dialog.custom-width {
    max-width: 30%; 

  }

  
</style>
<body>
  <div class="page">
    <div class="sideBar">
      <div class="headerImage">
        <img src="static/usu-logo.png" id="usu-logo">
      </div>
      <div class="sidebarOption">
        <ul>
          <li><a href="{{ url_for('index') }}" class="active">
            <i class="fas fa-upload"></i>
            <span>upload</span>
        </a></li>
        </ul>
      </div>

      <div class="sidebarFooter">
        <ul>

      </div>

    </div>
    <div class="content">
      <div class="file-container">
        <div id="box">
          <form id = "uploadForm" action="{{ url_for('run') }}" method="POST" enctype="multipart/form-data">
            <img id="image" src="static/white.jpg" width="1%" height="100%"/>
            <input type="file" name="user_file" onchange="handleFileChange()" id="file" />
          </form>
      </div>
    
        <div class="drag-area">
          <div class="icon">
            <i class="fa-solid fa-file-export"></i>
          </div>
            <span class="header">
              drag or select a file
            </span>
            <span class="support">supported formats: mp4, webm, mp3,</span>
            <span class="support"> ogg, opus, wav, m4a.</span>
      </div>
      </div>

      <div class="logo">
        <img src="static/deer-head_328-430-min.png" id="rusa">
      </div>
      
    <div class="information">
      <div class="item1">
        <div class="title1">
          <i class="fa-solid fa-arrow-right-arrow-left"></i></i><span class="title"> what does style transfer do?</span>
        </div>

        <div class="explanation">
          <span class="info">style transfer applies the visual characteristics </span>
          <span class="info">of one video to another, transforming its</span>
          <span class="info"> appearance while preserving the original content</span>
        </div>
      </div>

      <div class="item2">
        <div class="title1">
          <i class="fa fa-info-circle"></i><span class="title"> how does it work</span>
        </div>

        <div class="explanation">
          <span class="info"> it uses stable diffusion to seperate and recombine content </span>
          <span class="info"> and style. the content structure remains intact</span>
          <span class="info"> while everything is applied</span>
        </div>
      </div>
      
      <div class="item3">
        <div class="title1">
          <i class="fa-solid fa-cloud"></i><span class="title"> cloud-based processing</span>
        </div>

        <div class="explanation">
          <span class="info"> it runs on a powerful cloud server and gpu ensuring </span>
          <span class="info"> high-quality results without taxing local hardware.</span>
          <span class="info"> this allows for faster and more complex transformations  </span>
        </div>
      </div>
     
    </div>
        
    </div>
    <!-- modal -->
<div class="modal" id="loadingModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-hidden="false">
  <div class="modal-dialog modal-dialog-centered custom-width">
    <div class="modal-content text-center p-4">
      <center><div class="spinner-border text-primary" role="status"></div></center>
      <p class="modal-notif"> Initiating video upload. Please do not close this window. </p>
    </div>
  </div>
</div>
<!-- modal -->
  </div>
</body>
<script>
function handleFileChange() {
    const modal = new bootstrap.Modal(document.getElementById('loadingModal'));
    modal.show();

    // Let modal render before submitting the form
    setTimeout(() => {
        document.getElementById('uploadForm').submit();
    }, 150);
}
</script>
</html>


